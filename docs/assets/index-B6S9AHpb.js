const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/home-CZOCHY9X.js","assets/vendor-react-ByWCwTGe.js","assets/vendor-DFV2lSuA.js","assets/vendor-animations-CMPFBS9o.js","assets/navigation-zEZZyTH7.js","assets/product-C6Lgou4k.js","assets/back-button-BsgzHr5b.js","assets/staticData-BQiDjMPt.js","assets/products-hgksITG8.js","assets/cart-DTQoZ1Kw.js","assets/checkout-DyLPBPpG.js","assets/card-BIR7Zwf3.js","assets/contact-Bk_BpYvI.js","assets/delivery-4gbjmqLE.js","assets/not-found-D6_09nVO.js"])))=>i.map(i=>d[i]);
import{r as a,j as r,V as R,R as L,A as D,C as q,X as U,T as V,D as F,P as B,u as J,a as W,b as _,Q as X,c as G,S as H,d as x,e as Y}from"./vendor-react-ByWCwTGe.js";import{f as Z,t as ee,h as te,j as re}from"./vendor-DFV2lSuA.js";import"./vendor-animations-CMPFBS9o.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const se="modulepreload",oe=function(e){return"/"+e},A={},g=function(t,s,n){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),l=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(s.map(p=>{if(p=oe(p),p in A)return;A[p]=!0;const h=p.endsWith(".css"),C=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${C}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":se,h||(m.as="script"),m.crossOrigin="",m.href=p,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((c,f)=>{m.addEventListener("load",c),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(u){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=u,window.dispatchEvent(l),!l.defaultPrevented)throw u}return o.then(u=>{for(const l of u||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};async function ne(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const ae=({on401:e})=>async({queryKey:t})=>{const s=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&s.status===401?null:(await ne(s),await s.json())},ie=new Z({defaultOptions:{queries:{queryFn:ae({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),ce=1,ue=1e6;let N=0;function de(){return N=(N+1)%Number.MAX_SAFE_INTEGER,N.toString()}const P=new Map,I=e=>{if(P.has(e))return;const t=setTimeout(()=>{P.delete(e),w({type:"REMOVE_TOAST",toastId:e})},ue);P.set(e,t)},le=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ce)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?I(s):e.toasts.forEach(n=>{I(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},E=[];let S={toasts:[]};function w(e){S=le(S,e),E.forEach(t=>{t(S)})}function pe({...e}){const t=de(),s=o=>w({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>w({type:"DISMISS_TOAST",toastId:t});return w({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:s}}function me(){const[e,t]=a.useState(S);return a.useEffect(()=>(E.push(t),()=>{const s=E.indexOf(t);s>-1&&E.splice(s,1)}),[e]),{...e,toast:pe,dismiss:s=>w({type:"DISMISS_TOAST",toastId:s})}}function v(...e){return ee(te(e))}const fe=B,M=a.forwardRef(({className:e,...t},s)=>r.jsx(R,{ref:s,className:v("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));M.displayName=R.displayName;const ye=re("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Q=a.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(L,{ref:n,className:v(ye({variant:t}),e),...s}));Q.displayName=L.displayName;const xe=a.forwardRef(({className:e,...t},s)=>r.jsx(D,{ref:s,className:v("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));xe.displayName=D.displayName;const z=a.forwardRef(({className:e,...t},s)=>r.jsx(q,{ref:s,className:v("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(U,{className:"h-4 w-4"})}));z.displayName=q.displayName;const k=a.forwardRef(({className:e,...t},s)=>r.jsx(V,{ref:s,className:v("text-sm font-semibold",e),...t}));k.displayName=V.displayName;const $=a.forwardRef(({className:e,...t},s)=>r.jsx(F,{ref:s,className:v("text-sm opacity-90",e),...t}));$.displayName=F.displayName;function ge(){const{toasts:e}=me();return r.jsxs(fe,{children:[e.map(function({id:t,title:s,description:n,action:o,...i}){return r.jsxs(Q,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(k,{children:s}),n&&r.jsx($,{children:n})]}),o,r.jsx(z,{})]},t)}),r.jsx(M,{})]})}const K=a.createContext(void 0),T=()=>{if(typeof window>"u")return[];try{const e=localStorage.getItem("cart");return e?JSON.parse(e):[]}catch{return localStorage.removeItem("cart"),[]}},b=e=>{typeof window>"u"||localStorage.setItem("cart",JSON.stringify(e))};function he({children:e}){const t=J(),{data:s=[],isLoading:n}=W({queryKey:["/api/cart"],queryFn:()=>Promise.resolve(T())}),o=_({mutationFn:async c=>{{const f=T(),j=f.find(d=>d.productId===c.productId);let y;if(j)y=f.map(d=>d.productId===c.productId?{...d,quantity:d.quantity+c.quantity}:d);else{const d={id:Date.now(),productId:c.productId,quantity:c.quantity};y=[...f,d]}return b(y),y[y.length-1]}},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/cart"]})}}),i=_({mutationFn:async({id:c,quantity:f})=>{{const y=T().map(d=>d.id===c?{...d,quantity:f}:d);return b(y),y.find(d=>d.id===c)}},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/cart"]})}}),u=_({mutationFn:async c=>{{const j=T().filter(y=>y.id!==c);b(j);return}},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/cart"]})}}),l=_({mutationFn:async()=>{{b([]);return}},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/cart"]})}}),p=c=>{o.mutate(c)},h=(c,f)=>{i.mutate({id:c,quantity:f})},C=c=>{u.mutate(c)},m=()=>{l.mutate()};return r.jsx(K.Provider,{value:{cartItems:s,addToCart:p,updateQuantity:h,removeFromCart:C,clearCart:m,isLoading:n},children:e})}function Re(){const e=a.useContext(K);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function ve({size:e="md",className:t=""}){const s={sm:"w-6 h-6 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-[3px]"};return r.jsx("div",{className:`flex items-center justify-center loading-spinner ${t}`,children:r.jsxs("div",{className:"relative loading-spinner",children:[r.jsx("div",{className:`loading-spinner ${s[e]} border-gray-200 animate-spin`,style:{borderTopColor:"#ec4899",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e==="lg"&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center loading-spinner",children:r.jsx("div",{className:"loading-spinner w-2 h-2 bg-pink-500 animate-pulse",style:{borderRadius:"50%"}})})]})})}function Le(){return r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"bg-gray-200 aspect-[3/4] mb-4"}),r.jsx("div",{className:"bg-gray-200 h-4 w-3/4 mb-2 mx-auto"}),r.jsx("div",{className:"bg-gray-200 h-3 w-1/2 mx-auto"})]})}function we(){return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ve,{size:"lg"}),r.jsx("p",{className:"mt-4 text-sm text-gray-500 font-light",children:"Загрузка..."})]})})}const je=a.lazy(()=>g(()=>import("./home-CZOCHY9X.js"),__vite__mapDeps([0,1,2,3,4]))),_e=a.lazy(()=>g(()=>import("./product-C6Lgou4k.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),O=a.lazy(()=>g(()=>import("./products-hgksITG8.js"),__vite__mapDeps([8,1,2,3,7,4,6]))),Te=a.lazy(()=>g(()=>import("./cart-DTQoZ1Kw.js"),__vite__mapDeps([9,1,2,3,4,6,7]))),be=a.lazy(()=>g(()=>import("./checkout-DyLPBPpG.js"),__vite__mapDeps([10,1,2,3,4,6,11,7]))),Ee=a.lazy(()=>g(()=>import("./contact-Bk_BpYvI.js"),__vite__mapDeps([12,1,2,3,4,6,11]))),Se=a.lazy(()=>g(()=>import("./delivery-4gbjmqLE.js"),__vite__mapDeps([13,1,2,3,4,6]))),Ce=a.lazy(()=>g(()=>import("./not-found-D6_09nVO.js"),__vite__mapDeps([14,1,2,3,11])));function Ne(){return r.jsx(G,{base:"",children:r.jsx("div",{className:"min-h-screen transition-opacity duration-500 ease-in-out",children:r.jsx(a.Suspense,{fallback:r.jsx(we,{}),children:r.jsxs(H,{children:[r.jsx(x,{path:"/",component:je}),r.jsx(x,{path:"/products",component:O}),r.jsx(x,{path:"/product/:id",component:_e}),r.jsx(x,{path:"/cart",component:Te}),r.jsx(x,{path:"/checkout",component:be}),r.jsx(x,{path:"/contact",component:Ee}),r.jsx(x,{path:"/delivery",component:Se}),r.jsx(x,{path:"/category/:category",component:O}),r.jsx(x,{path:"/search/:query",component:O}),r.jsx(x,{component:Ce})]})})})})}function Pe(){return r.jsx(X,{client:ie,children:r.jsxs(he,{children:[r.jsx(Ne,{}),r.jsx(ge,{})]})})}Y(document.getElementById("root")).render(r.jsx(Pe,{}));export{ve as L,Le as P,me as a,v as c,Re as u};
